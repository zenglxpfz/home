<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<title>About</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta charset="utf-8">
	<meta name="keywords" content="" />

	<script type="application/x-javascript">
		addEventListener("load", function () {
			setTimeout(hideURLbar, 0);
		}, false);

		function hideURLbar() {
			window.scrollTo(0, 1);
		}
	</script>
	<link rel="stylesheet" href="/css/bootstrap.css"> <!-- Bootstrap-Core-CSS -->
	<link href="/css/style.css" rel='stylesheet' type='text/css' />
	<link href="/css/fontawesome-all.css" rel="stylesheet">
	<link href="http://fonts.googleapis.com/css?family=Exo+2" rel="stylesheet">
	<link href="http://fonts.googleapis.com/css?family=Raleway:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet">
	<!--	描述：elm -->
	<script src="https://unpkg.com/vue/dist/vue.js"></script>
	<script src="https://unpkg.com/element-ui/lib/index.js"></script>
	<script src="https://cdn.staticfile.org/axios/0.18.0/axios.min.js"></script>
	<script src="base/plugins/jquery/jquery.min.js"></script>
	<link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
	<link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
	<link rel="stylesheet" href="/base/dist/css/adminlte.min.css">
	<link rel="stylesheet" href="/base/plugins/overlayScrollbars/css/OverlayScrollbars.min.css">
	<link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700" rel="stylesheet">
	<link rel="stylesheet" href="/css/common.css">
	<!--elm  -->
</head>

<body>
<header>
	<div class="header">
		<nav class="navbar navbar-expand-lg navbar-light bg-light">
			<a class="navbar-brand" href="index.html">同城搬家供需信息交流平台</a>
			<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>
			<div class="collapse navbar-collapse" id="navbarSupportedContent">
				<ul class="navbar-nav ml-auto">
					<li class="nav-item active">
						<a class="nav-link" href="/userservice/main">首页<span class="sr-only">(current)</span></a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="/u/order">我的团队订单</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="/myteammessage">我的团队信息</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="/u/myliuyan">我的团队留言</a>
					</li>
					<li class="nav-item">
						<a class="nav-link " href="/notice">告示</a>
					</li>
					<li class="nav-item">
						<a class="nav-link disabled" href="/u/resources">管理资源</a>
					</li>
					<li class="nav-item dropdown">
						<input type="hidden" id="userid" th:if=" ${session.userservice} ne null"
							   th:value="${session.userservice.uid}"/>
						<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button"
						   data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
							<span th:if=" ${session.userservice} ne null" th:text="${session.userservice.uname}"></span>
							<span th:if="${session.userservice} eq null " th:text="请登录"></span>
						</a>
						<div class="dropdown-menu" aria-labelledby="navbarDropdown">
							<a class="dropdown-item" th:if="${session.userservice} ne null" href="/loginup">
								<span th:if="${session.userservice} ne null " th:text="注销"></span>
							</a>
							<a class="dropdown-item" th:if="${session.userservice} eq null " href="/">
								<span th:if="${session.userservice} eq null " th:text="登录"></span>
							</a>
							<a href="#" class="dropdown-item" data-toggle="modal" data-target="#persionmessage"
							   role="button">查看个人信息</a>
							<a href="#" class="dropdown-item" data-toggle="modal" data-target="#editmessage"
							   role="button">编辑个人信息</a>
						</div>
					</li>
				</ul>
			</div>
		</nav>
	</div>
</header>
<div id="teammessage">
	<input type="hidden"  th:value="${session.tids}" id="tids" name="tids" />
	<input type="hidden"  th:value="${session.userservice.uid}" id="uid" name="uid" />

	<div class="statistics py-5">
		<div class="container">
			<div class="w3-head-all text-center mb-5">
				<h3>{{teammessage.tname}}团队的信息</h3>
			</div>
			<div class="row">
				<div class="col-md-6" style="height: 300px; width: 100%; border: 1px solid #000;">
					<br/>
					<h5 style="text-align: center; color: blue;">团队基本信息</h5>
					<el-form ref="form" :model="teammessage" label-width="120px">
						<el-form-item label="团队名称：">
							<span>{{teammessage.tname}}</span>
						</el-form-item>
						<el-form-item label="团队队长：">
							<span>{{teammessage.tduiz}}</span>
						</el-form-item>

						<el-form-item label="团队人数：">
							<span>{{teammessage.tperson}}</span>
						</el-form-item>

						<el-form-item label="团队服务范围：">
							<span >{{teammessage.trange}}</span>
						</el-form-item>
						<el-form-item label="团队联系电话：">
							<span >{{teammessage.tphone}}</span>
						</el-form-item>
						<el-button type="text" @click="dialogTableVisible = true">查看所有成员</el-button>
					</el-form>
					<el-dialog title="成员列表" :visible.sync="dialogTableVisible">
						<el-table :data="duiyuan">
							<el-table-column
									type="index"
									label="序号"
									width="50">
							</el-table-column>
							<el-table-column property="uname" label="姓名" width="120"></el-table-column>
							<el-table-column property="phone" label="联系方式" width="120"></el-table-column>
							<el-table-column property="role" label="团队角色"></el-table-column>
						</el-table>
					</el-dialog>
				</div>
				<div class="col-md-6" style="height: 300px; width: 100%; border: 1px solid #000;">
					<br/>
					<h5 style="text-align: center; color: blue;">团队规则</h5>
					<el-table
							:data="rule"
							style="width: 100%"
							height="250"
					>
						<el-table-column
								type="index"
								label="序号"
								width="120">
						</el-table-column>
						<el-table-column
								prop="crules"
								label="服务规则"
								width="120">
						</el-table-column>

					</el-table>
				</div>
			</div>
			<div class="row">
				<div class="col-md-12" style="height: 300px; width: 100%;border: 1px solid #000;">
					<br/>
				<h5 style="text-align: center; color: blue;">团队资源</h5>
				<el-table
						:data="resources"
						style="width: 100%"
						height="250"
				>
					<el-table-column
							type="index"
							label="序号"
							width="120">
					</el-table-column>
					<el-table-column
							prop="rname"
							label="资源名称"
							width="120">
					</el-table-column>
					<el-table-column
							prop="rdescription"
							label="资源描述"
							width="180">
					</el-table-column>
					<el-table-column
							prop="rquantity"
							label="资源数量">
					</el-table-column>
<!--					<el-table-column-->
<!--							prop="picture"-->
<!--							label="资源图片">-->
<!--					</el-table-column>-->
				</el-table>

			</div>
			</div>
		</div>

	</div>

</div>
</div>
<div class="footer-main">
	<div class="footer-social">
		<h4>关于平台</h4>
		<ul>
			<li>

				<span class="fab fa-facebook-f icon_facebook"></span><p style="color: white;">服务范围为广东省广州市地区</p>

			</li>

		</ul>
	</div>
	<div class="cpy-right">
		<p>2020-3-5 《同城搬家供需信息交流平台》平台联系人：曾运棋  联系电话：12345678910</p>
	</div>
</div>
<!-- //footer -->
<!-- odometer-script -->
<script src="/js/odometer.js"></script>
<script>
	window.odometerOptions = {
		format: '(ddd).dd'
	};
</script>
<script>
	setTimeout(function(){
		jQuery('#w3l_stats1').html(25);
	}, 1500);
</script>
<script>
	setTimeout(function(){
		jQuery('#w3l_stats2').html(330);
	}, 1500);
</script>
<script>
	setTimeout(function(){
		jQuery('#w3l_stats3').html(542);
	}, 1500);
</script>
<!-- //odometer-script -->

<!-- js -->
<script type="text/javascript" src="/js/jquery-2.2.3.min.js"></script>
<script type="text/javascript" src="/js/bootstrap.js"></script> <!-- Necessary-JavaScript-File-For-Bootstrap -->
<!-- //js -->
<!-- start-smooth-scrolling -->
<script src="/js/move-top.js"></script>
<script src="/js/easing.js"></script>
<script>
	jQuery(document).ready(function ($) {
		$(".scroll").click(function (event) {
			event.preventDefault();
			$('html,body').animate({
				scrollTop: $(this.hash).offset().top
			}, 1000);
		});
	});
</script>
<!-- //end-smooth-scrolling -->

<!-- smooth-scrolling-of-move-up -->
<script>
	$(document).ready(function () {
		$().UItoTop({
			easingType: 'easeOutQuart'
		});

	});
</script>
<!-- //smooth-scrolling-of-move-up -->


<!-- smooth scrolling js -->
<script src="js/SmoothScroll.min.js"></script>
<!-- //smooth scrolling js -->

<!--<script>
new Vue({
  el: '#app',
  data: function(){
    return {
    form:{},

    };
  },
created() {
      const that=this;
      that.loan();
//    	that.getform();
  },
 methods:{

loan() {
//  	const that=this;
    this.form={
      uname: '曾运棋',
      sex: '1',
      email: '123@qq.com',
      identity: '4565564',
      phone: '12345648',
      birthday: '2020-14-2',
      signature: '你哈 ',
      address: '广州',
      registrationtime: '2020-02-30'
    };
  },
 }
//
})
</script>-->
<!--<script>
	new Vue({
      el: '#ap',
      data: function(){
        return {

        editform:{},
        postform:{},
        };
      },
    created() {
      	const that=this;
      	that.getform();
      },
     methods:{

      getform() {
//  	const that=this;
        this.editform={
          uname: '曾运棋',
          sex: '1',
          email: '123@qq.com',
          identity: '4565564',
          phone: '12345648',
          birthday: '2020-14-2',
          signature: '你哈 ',
          address: '广州',
          registrationtime: '2020-02-30'
        };
      },
    }
//  methods: {
//    onSubmit() {
//      console.log('submit!');
//    }
//  }
 })
</script>-->
<!--
	作者：offline
	时间：2020-03-09
	描述：查看团队信息列表包括志愿表和规则表
-->
<script>
	var tid = $("#tids").val();
	var uid = $("#uid").val();
	new Vue({
		el: '#teammessage',
		data: function(){
			return {
				teammessage:{},
				resources:[],
				rule:[],
                liuyan:[],
				addmessage: {
					content:'',
					uid:''
				},
                duiyuan:[],
				//保存留言信息
			//	getmessage: [],
				dialogTableVisible: false,
			};
		},
		created() {
			const that=this;
			that.oneteam();
			that.getliuyan();
		},
		methods:{
			// submit() {
            //     const that = this;
            //     this.addmessage.uid = uid;
            //     this.addmessage.tid = tid;
            //     axios.post('/mes/add',
            //         JSON.stringify(this.addmessage),{
            //             headers: {
            //                 'Content-Type': 'application/json;charset=UTF-8'
            //             }
            //         }).then(req =>{
            //         alert("发布成功！！");
            //         this.addmessage.content=null;
            //         this.liuyan = req.data.data;
            //     })
			// },
			oneteam(){
				const that=this;
                axios.get('/team/orderteamss',{
                    params:{
                        tid:tid,
						uid:uid
                    }
                }).then(req =>{
                    this.teammessage = req.data.data;
                    this.resources = req.data.data.resoucesDTOS;
                    this.rule= req.data.data.contentDTOS;
                    this.duiyuan =req.data.data.userserviceDTOs;
                })
			},
		}
	})
</script>

</body>
</html>
